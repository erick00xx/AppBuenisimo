@model SistemaWebEficienciaOperativa.Models.tbDesechosInsumos
@{
    ViewBag.Title = "Registrar Desecho de Insumo";
}

<h4 class="text-center mb-4">Registrar Desecho de Insumo</h4>

@using (Html.BeginForm(null, null, FormMethod.Post, new { @class = "container" }))
{
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-group mb-3">
        @Html.LabelFor(m => m.idSucursal, "Sucursal", new { @class = "form-label fw-semibold" })
        @Html.DropDownList("idSucursal", (SelectList)ViewBag.Sucursales, "-- Seleccione --", new { @class = "form-select" })
    </div>

    <div class="form-group mb-3">
        @Html.LabelFor(m => m.idInsumo, "Insumo", new { @class = "form-label fw-semibold" })
        @Html.DropDownList("idInsumo", (SelectList)ViewBag.Insumos, "-- Seleccione --", new { @class = "form-select" })
    </div>

    <div class="form-group mb-3">
        @Html.LabelFor(m => m.cantidad, "Cantidad", new { @class = "form-label fw-semibold" })
        @Html.TextBoxFor(m => m.cantidad, new { @class = "form-control", type = "number", step = "0.01" })
    </div>

    <div class="form-group mb-3">
        @Html.LabelFor(m => m.idUnidad, "Unidad", new { @class = "form-label fw-semibold" })
        @Html.DropDownList("idUnidad", (SelectList)ViewBag.Unidades, "-- Seleccione --", new { @class = "form-select" })
    </div>

    <div class="form-group mb-3">
        @Html.LabelFor(m => m.fechaDesecho, "Fecha de Desecho", new { @class = "form-label fw-semibold" })
        @Html.TextBoxFor(m => m.fechaDesecho, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date" })
    </div>

    <div class="form-group mb-3">
        @Html.LabelFor(m => m.motivo, "Motivo", new { @class = "form-label fw-semibold" })
        @Html.TextBoxFor(m => m.motivo, new { @class = "form-control", placeholder = "Ej. vencimiento, daño, contaminación" })
    </div>

    <div class="form-group mb-3">
        @Html.LabelFor(m => m.observaciones, "Observaciones", new { @class = "form-label fw-semibold" })
        @Html.TextAreaFor(m => m.observaciones, new { @class = "form-control", rows = 3 })
    </div>

    <div class="form-group mb-3">
        @Html.LabelFor(m => m.idIngresoInsumo, "Ingreso Relacionado (opcional)", new { @class = "form-label fw-semibold" })
        @Html.DropDownList("idIngresoInsumo", (SelectList)ViewBag.Ingresos, "-- Ninguno --", new { @class = "form-select" })
    </div>

    <button type="submit" class="btn btn-danger w-100">Registrar Desecho</button>
}
