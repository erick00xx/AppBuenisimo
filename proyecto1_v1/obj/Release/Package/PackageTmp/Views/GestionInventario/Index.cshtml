
@{
    ViewBag.Title = "Index";
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administración de Inventario - Café Aroma</title>
    <link rel="stylesheet" href="~/source/css/GestionInventario.css">
    <link rel="stylesheet" href="~/source/css/GestionEmpleado.css">
    <link rel="stylesheet" href="~/source/css/GestionCarta.css">
</head>
<body>
    <div class="container-fluid py-2">
        <!-- Header con logo de cafetería -->
        <div class="coffee-header">
            <div class="d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <i class="fas fa-mug-hot fa-lg me-2"></i>
                    <div>
                        <h1 class="mb-0">Café Aroma</h1>
                        <p class="mb-0 small">Administración de Inventario</p>
                    </div>
                </div>
                <div>
                    <button class="btn btn-sm btn-light" id="refreshInventory">
                        <i class="fas fa-sync-alt me-1"></i> Actualizar
                    </button>
                </div>
            </div>
        </div>

        <!-- Gestión del inventario -->
        <div class="card mb-3">
            <div class="card-header d-flex justify-content-between align-items-center">
                <span><i class="fas fa-boxes me-2" style="color: var(--primary-color);"></i>Inventario de Productos</span>
                <button class="btn btn-sm btn-success" data-bs-toggle="modal" data-bs-target="#addItemModal">
                    <i class="fas fa-plus me-1"></i>Nuevo Artículo
                </button>
            </div>
            <div class="card-body">
                <!-- Barra de búsqueda y filtros -->
                <div class="d-flex justify-content-between align-items-center flex-wrap mb-3">
                    <div class="search-bar" style="flex: 1; max-width: 300px;">
                        <input type="text" class="form-control" id="searchInventory" placeholder="Buscar artículo...">
                        <span class="search-icon"><i class="fas fa-search"></i></span>
                    </div>
                    <div class="d-flex gap-2">
                        <div class="dropdown">
                            <button class="btn btn-sm btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fas fa-sort me-1"></i>Ordenar
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#">Nombre (A-Z)</a></li>
                                <li><a class="dropdown-item" href="#">Nombre (Z-A)</a></li>
                                <li><a class="dropdown-item" href="#">Cantidad (Menor a Mayor)</a></li>
                                <li><a class="dropdown-item" href="#">Cantidad (Mayor a Menor)</a></li>
                                <li><a class="dropdown-item" href="#">Próximos a vencer</a></li>
                            </ul>
                        </div>
                        <div class="dropdown">
                            <button class="btn btn-sm btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fas fa-filter me-1"></i>Nivel de Stock
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#">Todos</a></li>
                                <li><a class="dropdown-item" href="#">Stock normal</a></li>
                                <li><a class="dropdown-item" href="#">Stock bajo</a></li>
                                <li><a class="dropdown-item" href="#">Sin stock</a></li>
                                <li><a class="dropdown-item" href="#">Próximos a vencer</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Filtros por categoría -->
                <div class="mb-3">
                    <button class="category-filter-btn active">Todos</button>
                    <button class="category-filter-btn">Café</button>
                    <button class="category-filter-btn">Leche y Lácteos</button>
                    <button class="category-filter-btn">Edulcorantes</button>
                    <button class="category-filter-btn">Panadería</button>
                    <button class="category-filter-btn">Frutas</button>
                    <button class="category-filter-btn">Insumos</button>
                </div>

                <!-- Tabla de inventario -->
                <div class="table-responsive">
                    <table class="table table-hover" id="inventoryTable">
                        <thead>
                            <tr>
                                <th>Artículo</th>
                                <th>Categoría</th>
                                <th>Stock Actual</th>
                                <th>Stock Mínimo</th>
                                <th>Fecha Vencimiento</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Artículo 1 -->
                            <tr class="inventory-item">
                                <td>
                                    <div class="d-flex align-items-center">
                                        <img src="/api/placeholder/70/70" alt="Granos de Café Premium" class="inventory-item-image me-2">
                                        <div>
                                            <div class="inventory-item-name">Granos de Café Premium</div>
                                            <div class="inventory-item-description">Café colombiano tostado medio, bolsa 1kg</div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="inventory-item-category">Café</span></td>
                                <td><span class="inventory-item-stock">25 kg</span></td>
                                <td><span class="inventory-item-min-stock">10 kg</span></td>
                                <td><span class="inventory-item-expiry">15/08/2025</span></td>
                                <td><span class="badge badge-status status-normal">Normal</span></td>
                                <td>
                                    <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editItemModal"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-success" data-bs-toggle="modal" data-bs-target="#restockModal"><i class="fas fa-plus-circle"></i></button>
                                    <button class="btn btn-sm btn-info"><i class="fas fa-history"></i></button>
                                </td>
                            </tr>

                            <!-- Artículo 2 -->
                            <tr class="inventory-item">
                                <td>
                                    <div class="d-flex align-items-center">
                                        <img src="/api/placeholder/70/70" alt="Leche Entera" class="inventory-item-image me-2">
                                        <div>
                                            <div class="inventory-item-name">Leche Entera</div>
                                            <div class="inventory-item-description">Leche fresca, botella 1L</div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="inventory-item-category">Leche y Lácteos</span></td>
                                <td><span class="inventory-item-stock">12 L</span></td>
                                <td><span class="inventory-item-min-stock">15 L</span></td>
                                <td><span class="inventory-item-expiry">20/04/2025</span></td>
                                <td><span class="badge badge-status status-low">Stock Bajo</span></td>
                                <td>
                                    <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editItemModal"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-success" data-bs-toggle="modal" data-bs-target="#restockModal"><i class="fas fa-plus-circle"></i></button>
                                    <button class="btn btn-sm btn-info"><i class="fas fa-history"></i></button>
                                </td>
                            </tr>

                            <!-- Artículo 3 -->
                            <tr class="inventory-item">
                                <td>
                                    <div class="d-flex align-items-center">
                                        <img src="/api/placeholder/70/70" alt="Jarabe de Vainilla" class="inventory-item-image me-2">
                                        <div>
                                            <div class="inventory-item-name">Jarabe de Vainilla</div>
                                            <div class="inventory-item-description">Jarabe para café, botella 750ml</div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="inventory-item-category">Edulcorantes</span></td>
                                <td><span class="inventory-item-stock">5 botellas</span></td>
                                <td><span class="inventory-item-min-stock">3 botellas</span></td>
                                <td><span class="inventory-item-expiry">10/12/2025</span></td>
                                <td><span class="badge badge-status status-normal">Normal</span></td>
                                <td>
                                    <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editItemModal"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-success" data-bs-toggle="modal" data-bs-target="#restockModal"><i class="fas fa-plus-circle"></i></button>
                                    <button class="btn btn-sm btn-info"><i class="fas fa-history"></i></button>
                                </td>
                            </tr>

                            <!-- Artículo 4 -->
                            <tr class="inventory-item">
                                <td>
                                    <div class="d-flex align-items-center">
                                        <img src="/api/placeholder/70/70" alt="Masa para Croissant" class="inventory-item-image me-2">
                                        <div>
                                            <div class="inventory-item-name">Masa para Croissant</div>
                                            <div class="inventory-item-description">Masa congelada, paquete de 20 unidades</div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="inventory-item-category">Panadería</span></td>
                                <td><span class="inventory-item-stock">0 paquetes</span></td>
                                <td><span class="inventory-item-min-stock">5 paquetes</span></td>
                                <td><span class="inventory-item-expiry">N/A</span></td>
                                <td><span class="badge badge-status status-out">Sin Stock</span></td>
                                <td>
                                    <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editItemModal"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-success" data-bs-toggle="modal" data-bs-target="#restockModal"><i class="fas fa-plus-circle"></i></button>
                                    <button class="btn btn-sm btn-info"><i class="fas fa-history"></i></button>
                                </td>
                            </tr>

                            <!-- Artículo 5 -->
                            <tr class="inventory-item">
                                <td>
                                    <div class="d-flex align-items-center">
                                        <img src="/api/placeholder/70/70" alt="Arándanos" class="inventory-item-image me-2">
                                        <div>
                                            <div class="inventory-item-name">Arándanos</div>
                                            <div class="inventory-item-description">Arándanos frescos, bandeja 500g</div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="inventory-item-category">Frutas</span></td>
                                <td><span class="inventory-item-stock">4 bandejas</span></td>
                                <td><span class="inventory-item-min-stock">3 bandejas</span></td>
                                <td><span class="inventory-item-expiry">14/04/2025</span></td>
                                <td><span class="badge badge-status status-expiring">Por vencer</span></td>
                                <td>
                                    <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editItemModal"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-success" data-bs-toggle="modal" data-bs-target="#restockModal"><i class="fas fa-plus-circle"></i></button>
                                    <button class="btn btn-sm btn-info"><i class="fas fa-history"></i></button>
                                </td>
                            </tr>

                            <!-- Artículo 6 -->
                            <tr class="inventory-item">
                                <td>
                                    <div class="d-flex align-items-center">
                                        <img src="/api/placeholder/70/70" alt="Vasos de Café 12oz" class="inventory-item-image me-2">
                                        <div>
                                            <div class="inventory-item-name">Vasos de Café 12oz</div>
                                            <div class="inventory-item-description">Vasos desechables con tapa, caja de 500 unidades</div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="inventory-item-category">Insumos</span></td>
                                <td><span class="inventory-item-stock">3 cajas</span></td>
                                <td><span class="inventory-item-min-stock">2 cajas</span></td>
                                <td><span class="inventory-item-expiry">No aplica</span></td>
                                <td><span class="badge badge-status status-normal">Normal</span></td>
                                <td>
                                    <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editItemModal"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-success" data-bs-toggle="modal" data-bs-target="#restockModal"><i class="fas fa-plus-circle"></i></button>
                                    <button class="btn btn-sm btn-info"><i class="fas fa-history"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Paginación -->
                <nav aria-label="Paginación de inventario">
                    <ul class="pagination justify-content-center">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Anterior</a>
                        </li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#">Siguiente</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>

        <!-- Resumen de inventario -->
        <div class="row">
            <!-- Tarjeta de estadísticas rápidas -->
            <div class="col-md-6 mb-3">
                <div class="card h-100">
                    <div class="card-header">
                        <i class="fas fa-chart-bar me-2" style="color: var(--primary-color);"></i>Estadísticas de Inventario
                    </div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-6 col-lg-3">
                                <div class="stat-card">
                                    <div class="stat-card-value">125</div>
                                    <div class="stat-card-label">Total Artículos</div>
                                </div>
                            </div>
                            <div class="col-6 col-lg-3">
                                <div class="stat-card text-warning">
                                    <div class="stat-card-value">12</div>
                                    <div class="stat-card-label">Stock Bajo</div>
                                </div>
                            </div>
                            <div class="col-6 col-lg-3">
                                <div class="stat-card text-danger">
                                    <div class="stat-card-value">5</div>
                                    <div class="stat-card-label">Sin Stock</div>
                                </div>
                            </div>
                            <div class="col-6 col-lg-3">
                                <div class="stat-card text-info">
                                    <div class="stat-card-value">8</div>
                                    <div class="stat-card-label">Por Vencer</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tarjeta de alertas -->
            <div class="col-md-6 mb-3">
                <div class="card h-100">
                    <div class="card-header">
                        <i class="fas fa-exclamation-triangle me-2" style="color: var(--warning-color);"></i>Alertas de Inventario
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="badge rounded-pill bg-danger me-2">Sin Stock</span>
                                    Masa para Croissant
                                </div>
                                <button class="btn btn-sm btn-outline-primary">Pedir</button>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="badge rounded-pill bg-warning me-2">Stock Bajo</span>
                                    Leche Entera
                                </div>
                                <button class="btn btn-sm btn-outline-primary">Pedir</button>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="badge rounded-pill bg-info me-2">Por Vencer</span>
                                    Arándanos - 3 días restantes
                                </div>
                                <button class="btn btn-sm btn-outline-secondary">Revisar</button>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modales -->
    <!-- Modal Agregar Artículo -->
    <div class="modal fade" id="addItemModal" tabindex="-1" aria-labelledby="addItemModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addItemModalLabel">Agregar Nuevo Artículo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addItemForm">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="itemName" class="form-label">Nombre del Artículo *</label>
                                    <input type="text" class="form-control" id="itemName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="itemCategory" class="form-label">Categoría *</label>
                                    <select class="form-select" id="itemCategory" required>
                                        <option value="">Seleccionar categoría</option>
                                        <option value="cafe">Café</option>
                                        <option value="leche">Leche y Lácteos</option>
                                        <option value="edulcorantes">Edulcorantes</option>
                                        <option value="panaderia">Panadería</option>
                                        <option value="frutas">Frutas</option>
                                        <option value="insumos">Insumos</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="itemDescription" class="form-label">Descripción</label>
                                    <textarea class="form-control" id="itemDescription" rows="3"></textarea>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="itemStock" class="form-label">Cantidad Inicial *</label>
                                    <input type="number" class="form-control" id="itemStock" required>
                                </div>
                                <div class="mb-3">
                                    <label for="itemUnit" class="form-label">Unidad de Medida *</label>
                                    <select class="form-select" id="itemUnit" required>
                                        <option value="">Seleccionar unidad</option>
                                        <option value="kg">Kilogramos (kg)</option>
                                        <option value="g">Gramos (g)</option>
                                        <option value="l">Litros (L)</option>
                                        <option value="ml">Mililitros (ml)</option>
                                        <option value="unidades">Unidades</option>
                                        <option value="paquetes">Paquetes</option>
                                        <option value="cajas">Cajas</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="itemMinStock" class="form-label">Stock Mínimo *</label>
                                    <input type="number" class="form-control" id="itemMinStock" required>
                                </div>
                                <div class="mb-3">
                                    <label for="itemExpiry" class="form-label">Fecha de Vencimiento</label>
                                    <input type="date" class="form-control" id="itemExpiry">
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="itemImage" class="form-label">Imagen del Artículo</label>
                            <input type="file" class="form-control" id="itemImage">
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="itemSupplier" class="form-label">Proveedor</label>
                                <select class="form-select" id="itemSupplier">
                                    <option value="">Seleccionar proveedor</option>
                                    <option value="1">Distribuidora de Café El Barista</option>
                                    <option value="2">Lácteos La Vaquita</option>
                                    <option value="3">Dulces Sabores S.A.</option>
                                    <option value="4">Panadería Industrial Los Hornos</option>
                                    <option value="5">Frutas Frescas del Campo</option>
                                    <option value="6">Insumos Cafeteros Pro</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="itemPrice" class="form-label">Precio de Compra</label>
                                <div class="input-group">
                                    <span class="input-group-text">$</span>
                                    <input type="number" class="form-control" id="itemPrice" step="0.01">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary">Guardar Artículo</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Editar Artículo -->
    <div class="modal fade" id="editItemModal" tabindex="-1" aria-labelledby="editItemModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editItemModalLabel">Editar Artículo: Granos de Café Premium</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Formulario similar al de agregar pero con datos prellenados -->
                    <form id="editItemForm">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editItemName" class="form-label">Nombre del Artículo *</label>
                                    <input type="text" class="form-control" id="editItemName" value="Granos de Café Premium" required>
                                </div>
                                <div class="mb-3">
                                    <label for="editItemCategory" class="form-label">Categoría *</label>
                                    <select class="form-select" id="editItemCategory" required>
                                        <option value="">Seleccionar categoría</option>
                                        <option value="cafe" selected>Café</option>
                                        <option value="leche">Leche y Lácteos</option>
                                        <option value="edulcorantes">Edulcorantes</option>
                                        <option value="panaderia">Panadería</option>
                                        <option value="frutas">Frutas</option>
                                        <option value="insumos">Insumos</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="editItemDescription" class="form-label">Descripción</label>
                                    <textarea class="form-control" id="editItemDescription" rows="3">Café colombiano tostado medio, bolsa 1kg</textarea>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editItemStock" class="form-label">Stock Actual *</label>
                                    <input type="number" class="form-control" id="editItemStock" value="25" required>
                                </div>
                                <div class="mb-3">
                                    <label for="editItemUnit" class="form-label">Unidad de Medida *</label>
                                    <select class="form-select" id="editItemUnit" required>
                                        <option value="">Seleccionar unidad</option>
                                        <option value="kg" selected>Kilogramos (kg)</option>
                                        <option value="g">Gramos (g)</option>
                                        <option value="l">Litros (L)</option>
                                        <option value="ml">Mililitros (ml)</option>
                                        <option value="unidades">Unidades</option>
                                        <option value="paquetes">Paquetes</option>
                                        <option value="cajas">Cajas</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="editItemMinStock" class="form-label">Stock Mínimo *</label>
                                    <input type="number" class="form-control" id="editItemMinStock" value="10" required>
                                </div>
                                <div class="mb-3">
                                    <label for="editItemExpiry" class="form-label">Fecha de Vencimiento</label>
                                    <input type="date" class="form-control" id="editItemExpiry" value="2025-08-15">
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="editItemImage" class="form-label">Imagen del Artículo</label>
                            <input type="file" class="form-control" id="editItemImage">
                            <div class="mt-2">
                                <img src="/api/placeholder/100/100" alt="Vista previa" class="img-thumbnail">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="editItemSupplier" class="form-label">Proveedor</label>
                                <select class="form-select" id="editItemSupplier">
                                    <option value="">Seleccionar proveedor</option>
                                    <option value="1" selected>Distribuidora de Café El Barista</option>
                                    <option value="2">Lácteos La Vaquita</option>
                                    <option value="3">Dulces Sabores S.A.</option>
                                    <option value="4">Panadería Industrial Los Hornos</option>
                                    <option value="5">Frutas Frescas del Campo</option>
                                    <option value="6">Insumos Cafeteros Pro</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="editItemPrice" class="form-label">Precio de Compra

                                    <script>

                                    </script>